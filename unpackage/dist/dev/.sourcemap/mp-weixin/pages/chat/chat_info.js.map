{"version":3,"sources":["webpack:///C:/code/shop_weapp/main.js","webpack:///C:/code/shop_weapp/pages/chat/chat_info.vue?66c5","webpack:///C:/code/shop_weapp/pages/chat/chat_info.vue?daf0","webpack:///C:/code/shop_weapp/pages/chat/chat_info.vue?c25d","webpack:///C:/code/shop_weapp/pages/chat/chat_info.vue?a130","webpack:///C:/code/shop_weapp/pages/chat/chat_info.vue","webpack:///C:/code/shop_weapp/pages/chat/chat_info.vue?87c9","webpack:///C:/code/shop_weapp/pages/chat/chat_info.vue?cd20"],"names":["createPage","Page","data","username","uni","getStorageSync","msgss","my_avatar","chater_info","Chat_Record","my_say_text","InputBottom","Time_now","Date","Y","M","D","h","m","s","onLoad","showLoading","title","Times_now","load_chater_info","to_bottom","get_msg_ol","onShow","methods","console","log","that","$data","setNavigationBarTitle","nickName","user_info","id","avatar","Chat_Record_ol","request","url","header","success","res","lszs","messages","i","length","from_id","target_id","push","e","get_message_time","msg_ctime","hideLoading","JIM","resetUnreadCount","setTimeout","pageScrollTo","scrollTop","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","timestamp","msg_ids","timess","to_send","sendSingleMsg","onSuccess","msg","code","content","showToast","onFail","$on","InputFocus","detail","height","InputBlur"],"mappings":"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","file":"pages/chat/chat_info.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/chat/chat_info.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./chat_info.vue?vue&type=template&id=424a2b8c&\"\nimport script from \"./chat_info.vue?vue&type=script&lang=js&\"\nexport * from \"./chat_info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat_info.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('424a2b8c', component.options)\n    } else {\n      api.reload('424a2b8c', component.options)\n    }\n    module.hot.accept(\"./chat_info.vue?vue&type=template&id=424a2b8c&\", function () {\n      api.rerender('424a2b8c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"code/shop_weapp/pages/chat/chat_info.vue\"\nexport default component.exports","export * from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat_info.vue?vue&type=template&id=424a2b8c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat_info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat_info.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tusername: uni.getStorageSync(\"username\"),\n\t\t\tmsgss: [],\n\t\t\tmy_avatar: uni.getStorageSync(\"my_avatar\"),\n\t\t\tchater_info: null,\n\t\t\tChat_Record: [],\n\t\t\tmy_say_text: '',\n\t\t\tInputBottom: 0,\n\t\t\tTime_now: {\n\t\t\t\tDate: '',\n\t\t\t\tY: '',\n\t\t\t\tM: '',\n\t\t\t\tD: '',\n\t\t\t\th: '',\n\t\t\t\tm: '',\n\t\t\t\ts: ''\n\t\t\t}\n\t\t};\n\t},\n\tonLoad() {\n\t\tuni.showLoading({\n\t\t\ttitle: '加载中'\n\t\t})\n\t\tthis.Times_now();\n\t\tthis.load_chater_info()\n\t\tthis.to_bottom()\n\t\tthis.get_msg_ol()\n\t},\n\tonShow() {\n\t\tthis.to_bottom()\n\t},\n\tmethods: {\n\t\tload_chater_info() {\n\t\t\tconsole.log(this.username)\n\t\t\tvar that = this;\n\t\t\tvar chater_info;\n\t\t\tchater_info = uni.getStorageSync('chater_info')\n\t\t\tthat.$data.chater_info = chater_info\n\t\t\tconsole.log(chater_info)\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle: chater_info.nickName\n\t\t\t})\n\t\t\t//下方初始化聊天记录\n\t\t\tvar Chat_Record\n\t\t\tlet user_info = uni.getStorageSync('userInfo')\n\t\t\tthis.username = 'user_'+user_info.id\n\t\t\tthis.my_avatar = user_info.avatar\n\t\t\tconsole.log(user_info)\n\t\t\tvar Chat_Record_ol = []\n\t\t\tuni.request({\n\t\t\t\turl: 'https://report.im.jpush.cn/v2/users/user_' + user_info.id +\n\t\t\t\t\t'/messages?count=1000&begin_time=2019-10-11%2023:59:59&end_time=2019-10-17%2015:47:59',\n\t\t\t\theader: {\n\t\t\t\t\t\"Authorization\": 'Basic YjdjZTM1YTgzMzVjOGFiNzZjNThkZmQwOjgwODcxYmFmMTk4ODFhNzAzNmQ3NzRjNQ=='\n\t\t\t\t},\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconsole.log(res.data)\n\t\t\t\t\tvar lszs = res.data.messages\n\t\t\t\t\tconsole.log(res.data.messages)\n\t\t\t\t\tfor (var i = 0; i < res.data.messages.length; i++) {\n\t\t\t\t\t\tif (res.data.messages[i].from_id == that.$data.chater_info.username && res.data.messages[i].target_id == that.$data\n\t\t\t\t\t\t\t.username || res.data.messages[i].from_id == that.$data.username && res.data.messages[i].target_id == that.$data\n\t\t\t\t\t\t\t.chater_info.username) {\n\t\t\t\t\t\t\tconsole.log(res.data.messages[i]);\n\t\t\t\t\t\t\t// res.data.messages[i].create_time=that.get_message_time(res.data.messages[i].create_time,i)\n\t\t\t\t\t\t\tChat_Record_ol.push(res.data.messages[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(Chat_Record_ol)\n\t\t\t\t\tthat.$data.Chat_Record = Chat_Record_ol\n\t\t\t\t\tfor (var e = 0; e < Chat_Record_ol.length; e++) {\n\t\t\t\t\t\tthat.get_message_time(Chat_Record_ol[e].msg_ctime, e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tthat.to_bottom()\n\t\t\tuni.hideLoading()\n\t\t\t//更新会话未读消息数   填对方的username，不要填自己的\n\t\t\tthis.JIM.resetUnreadCount({\n\t\t\t\t'username': that.$data.chater_info.username\n\t\t\t});\n\t\t},\n\t\tto_bottom() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\tscrollTop: 3000\n\t\t\t\t})\n\t\t\t}, 1000);\n\n\t\t},\n\t\tTimes_now() {\n\t\t\tvar that = this;\n\t\t\tvar date = new Date();\n\t\t\tvar Y = date.getFullYear() + '-';\n\t\t\tvar M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\n\t\t\tvar D = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate()) + ' ';\n\t\t\tvar h = (date.getHours() < 10 ? '0' + (date.getHours()) : date.getHours()) + ':';\n\t\t\tvar m = (date.getMinutes() < 10 ? '0' + (date.getMinutes()) : date.getMinutes()) + '';\n\t\t\tvar s = (date.getSeconds() < 10 ? '0' + (date.getSeconds()) : date.getSeconds());\n\t\t\t// console.log(date)\n\t\t\tthat.$data.Time_now.Date = date;\n\t\t\tthat.$data.Time_now.Y = Y;\n\t\t\tthat.$data.Time_now.M = M;\n\t\t\tthat.$data.Time_now.D = D;\n\t\t\tthat.$data.Time_now.h = h;\n\t\t\tthat.$data.Time_now.m = m;\n\t\t\tthat.$data.Time_now.s = s;\n\t\t},\n\t\tget_message_time(timestamp, msg_ids) {\n\t\t\tlet that = this;\n\t\t\tlet Time_now = that.$data.Time_now;\n\n\t\t\tvar date = new Date(timestamp);\n\t\t\tvar Y = date.getFullYear() + '-';\n\t\t\tvar M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\n\t\t\tvar D = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate()) + ' ';\n\t\t\tvar h = (date.getHours() < 10 ? '0' + (date.getHours()) : date.getHours()) + ':';\n\t\t\tvar m = (date.getMinutes() < 10 ? '0' + (date.getMinutes()) : date.getMinutes()) + '';\n\t\t\tvar s = (date.getSeconds() < 10 ? '0' + (date.getSeconds()) : date.getSeconds());\n\t\t\tif (Y == Time_now.Y && M == Time_now.M && D == Time_now.D) {\n\t\t\t\tthat.$data.Chat_Record[msg_ids].timess = h + m;\n\t\t\t} else {\n\t\t\t\tthat.$data.Chat_Record[msg_ids].timess = M + D;\n\t\t\t}\n\t\t\t// return Y + M + D + h + m + s;\n\t\t},\n\t\tto_send() {\n\t\t\tvar that = this;\n\t\t\tvar my_say_text = that.$data.my_say_text\n\t\t\tif (!my_say_text || my_say_text == '') {\n\t\t\t\t//无内容直接跳出\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconsole.log('send')\n\t\t\tconsole.log(that.$data.chater_info.username)\n\t\t\tthis.JIM.sendSingleMsg({\n\t\t\t\t'target_username': that.$data.chater_info.username,\n\t\t\t\t'target_nickname': that.$data.chater_info.nickName,\n\t\t\t\t'content': my_say_text,\n\t\t\t\t'appkey': 'b7ce35a8335c8ab76c58dfd0'\n\t\t\t}).onSuccess(function(data, msg) {\n\t\t\t\tconsole.log(data)\n\t\t\t\t//data.code 返回码\n\t\t\t\t//data.message 描述\n\t\t\t\t//data.msg_id 发送成功后的消息 id\n\t\t\t\t//data.ctime_ms 消息生成时间,毫秒\n\t\t\t\t//data.appkey 用户所属 appkey\n\t\t\t\t//data.target_username 用户名\n\t\t\t\t//msg.content 发送成功消息体,见下面消息体详情\n\t\t\t\tif (data.code == 0) {\n\t\t\t\t\t//发送成功了\n\t\t\t\t\tthat.Times_now();\n\t\t\t\t\tvar msgss = that.$data.Chat_Record\n\t\t\t\t\tmsg.content.timess = that.$data.Time_now.h + that.$data.Time_now.m\n\t\t\t\t\tmsgss.push(msg.content)\n\t\t\t\t\tthat.$data.my_say_text = ''\n\t\t\t\t\tthat.to_bottom()\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '发送失败'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tconsole.log(data)\n\t\t\t\tconsole.log(msg)\n\t\t\t}).onFail(function(data) {\n\t\t\t\tconsole.log(data)\n\t\t\t\t//data.code 返回码\n\t\t\t\t//data.message 描述\n\t\t\t});\n\t\t},\n\t\tget_msg_ol() {\n\t\t\tvar that = this;\n\t\t\tuni.$on('msg_ol', function(data) {\n\t\t\t\tconsole.log('收到消息，收到消息，收到消息')\n\t\t\t\tif (data.from_id == that.chater_info.username) {\n\t\t\t\t\tthat.Times_now();\n\t\t\t\t\tvar msgss = that.$data.Chat_Record\n\t\t\t\t\tdata.timess = that.$data.Time_now.h + that.$data.Time_now.m\n\t\t\t\t\tmsgss.push(data)\n\t\t\t\t\tthat.to_bottom()\n\t\t\t\t\tthis.JIM.resetUnreadCount({\n\t\t\t\t\t\t'username': that.$data.chater_info.username\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t//编辑框事件\n\t\tInputFocus(e) {\n\t\t\tthis.InputBottom = e.detail.height\n\t\t},\n\t\tInputBlur(e) {\n\t\t\tthis.InputBottom = 0\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat_info.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat_info.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}