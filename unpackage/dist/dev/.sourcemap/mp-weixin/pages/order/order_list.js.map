{"version":3,"sources":["webpack:///C:/code/shop_weapp/pages/order/order_list.vue?150e","webpack:///C:/code/shop_weapp/pages/order/order_list.vue?8550","webpack:///C:/code/shop_weapp/main.js","webpack:///C:/code/shop_weapp/pages/order/order_list.vue?66ad","webpack:///C:/code/shop_weapp/pages/order/order_list.vue?a8bb","webpack:///C:/code/shop_weapp/pages/order/order_list.vue?760a","webpack:///C:/code/shop_weapp/pages/order/order_list.vue?3a3f","webpack:///C:/code/shop_weapp/pages/order/order_list.vue"],"names":["createPage","Page","systemInfo","require","request","data","swiperCurrentIndex","tabs","tabHeight","orders","pages","loadingTypes","onLoad","system","info","windowHeight","iPhoneXBottomHeightPx","uni","upx2px","getOrders","methods","navChange","e","swiperChange","index","detail","current","length","scrollend","console","log","splice","url","get","res","status","concat","removeorder","oid","showModal","title","content","success","confirm","components","graceNav","graceEmpty","graceLoading"],"mappings":"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","file":"pages/order/order_list.js","sourcesContent":["import mod from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_list.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_list.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/order/order_list.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./order_list.vue?vue&type=template&id=68606d4c&\"\nimport script from \"./order_list.vue?vue&type=script&lang=js&\"\nexport * from \"./order_list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order_list.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('68606d4c', component.options)\n    } else {\n      api.reload('68606d4c', component.options)\n    }\n    module.hot.accept(\"./order_list.vue?vue&type=template&id=68606d4c&\", function () {\n      api.rerender('68606d4c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"code/shop_weapp/pages/order/order_list.vue\"\nexport default component.exports","export * from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_list.vue?vue&type=template&id=68606d4c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_list.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport graceNav from \"../../graceUI/components/graceNavBar.vue\";\r\nimport graceEmpty from '../../graceUI/components/graceEmpty.vue';\r\nimport graceLoading from \"../../graceUI/components/graceLoading.vue\";\r\nvar systemInfo = require('../../graceUI/jsTools/systemInfo.js');\r\nvar request = require('../../graceUI/jsTools/request.js');\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tswiperCurrentIndex: 0,\r\n\t\t\ttabs: [ '全部', '待付款', '待收货', '已完成', '已取消'],\r\n\t\t\ttabHeight : 200,\r\n\t\t\t// 订单数据  订单数组和订单状态数组元素一致\r\n\t\t\torders : [[], [], [], [], []],\r\n\t\t\t// 订单页码\r\n\t\t\tpages : [1,1,1,1,1],\r\n\t\t\t// 加载状态\r\n\t\t\tloadingTypes : [0,0,0,0,0]\r\n\t\t}\r\n\t},\r\n\tonLoad : function () {\r\n\t\tvar system = systemInfo.info();\r\n\t\tthis.tabHeight = system.windowHeight - system.iPhoneXBottomHeightPx - uni.upx2px(110);\r\n\t\tthis.getOrders();\r\n\t},\r\n\tmethods:{\r\n\t\tnavChange: function (e) {\r\n\t\t\tthis.swiperCurrentIndex = e;\r\n\t\t},\r\n\t\tswiperChange: function (e) {\r\n\t\t\tvar index = e.detail.current;\r\n\t\t\tthis.swiperCurrentIndex = index;\r\n\t\t\t// 如果切换时尚未读取数据则读取\r\n\t\t\tif(this.orders[this.swiperCurrentIndex].length < 1 && this.loadingTypes[this.swiperCurrentIndex] != 5){ this.getOrders(); }\r\n\t\t},\r\n\t\tscrollend : function(){\r\n\t\t\t// 避免重复加载\r\n\t\t\tif(this.loadingTypes[this.swiperCurrentIndex] == 1 || this.loadingTypes[this.swiperCurrentIndex] == 2){return ;}\r\n\t\t\tthis.getOrders();\r\n\t\t},\r\n\t\tgetOrders : function (){\r\n\t\t\tconsole.log('类型 : ' + this.tabs[this.swiperCurrentIndex] + ' 第'+ this.pages[this.swiperCurrentIndex] +'页');\r\n\t\t\tthis.loadingTypes.splice(this.swiperCurrentIndex, 1, 1);\r\n\t\t\t// this.tabs[this.swiperCurrentIndex] 代表向 api 接口传递订单要求返回的订单状态\r\n\t\t\t// page 代表第几页\r\n\t\t\t// 接口地址组合\r\n\t\t\tvar url = \"http://grace.hcoder.net/api/index/orders/\"+this.tabs[this.swiperCurrentIndex]+'/'+this.pages[this.swiperCurrentIndex];\r\n\t\t\trequest.get(url,{}, res => {\r\n\t\t\t\tif(res.status == 'ok'){\r\n\t\t\t\t\t// 第一页\r\n\t\t\t\t\tif(this.pages[this.swiperCurrentIndex] == 1){\r\n\t\t\t\t\t\tthis.orders.splice(this.swiperCurrentIndex, 1 , res.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 之后的加载页\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.orders[this.swiperCurrentIndex] = this.orders[this.swiperCurrentIndex].concat(res.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 页码增加\r\n\t\t\t\t\tthis.pages[this.swiperCurrentIndex]++;\r\n\t\t\t\t\tthis.loadingTypes.splice(this.swiperCurrentIndex, 1, 6);\r\n\t\t\t\t}else if(res.status == 'empty'){\r\n\t\t\t\t\tconsole.log('empty');\r\n\t\t\t\t\tthis.loadingTypes.splice(this.swiperCurrentIndex, 1, 5);\r\n\t\t\t\t}else if(res.status == 'nomore'){\r\n\t\t\t\t\tconsole.log('nomore');\r\n\t\t\t\t\tthis.loadingTypes.splice(this.swiperCurrentIndex, 1, 2);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tremoveorder : function(oid){\r\n\t\t\tconsole.log(oid);\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '确认提醒',\r\n\t\t\t\tcontent: '您确定要移除订单 [ ' + oid + ' ] 吗？',\r\n\t\t\t\tsuccess:function(e){\r\n\t\t\t\t\tif (e.confirm) {\r\n\t\t\t\t\t\t//自行完善删除代码\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tcomponents:{graceNav, graceEmpty,graceLoading}\r\n}\r\n"],"sourceRoot":""}